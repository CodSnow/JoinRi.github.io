<html>
<head>
  <title>Yarn</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600753 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
    <link rel="stylesheet" type="text/css" href="../css/main.css" /> 
</head>
<body>
<h1>目录</h1>
<ul id="menu">
<li><a href="../notes/Saprk.html">Saprk</a></li>
<li><a href="../notes/HDFS.html">HDFS</a></li>
<li><a href="../notes/Flume.html">Flume</a></li>
<li><a href="../notes/Yarn.html">Yarn</a></li>
<li><a href="../notes/Zookeeper.html">Zookeeper</a></li>
<li><a href="../notes/HBase--分布式数据库.html">HBase</a></li>
<li><a href="../notes/Hive.html">Hive</a></li>
<li><a href="../notes/Loader.html">Loader</a></li>
<li><a href="../notes/Kafka.html">Kafka</a></li>
<li><a href="../notes/Flink.html">Flink</a></li>
</ul>
<br><br><br><br><br>
<a name="475"/>
<h1>Yarn</h1>

<div>
<span><div><div><div><div><div><span style="font-size: 12pt; font-weight: bold;">简介（</span><span style="font-size: 12pt; color: rgb(167, 69, 0); font-weight: bold;">支持内存喝CPU两种资源分配</span><span style="font-size: 12pt; font-weight: bold;">）</span></div><ul><ul><li><div>YARN是Hadoop2.0中的资源管理系统，是一个通用的资源管理模块，可以为各类应用程序进行资源管理和调度。YARN并不局限于MapReduce，也可以供其他框架使用，比如Tez、Spark、Storm等。YARN类似于资源管理系统Mesos和更早的Torque。</div></li><li><div>在最早的Hadoop MapReduce计算架构中，进行作业调度时使用FIFO Scheduler。FIFO是指，所有用户的作业都被提交到一个队列中，然后按照作业的优先级，再按照作业提交时间的先后顺序选择将被执行的作业。Hadoop中只有一个作业队列，被提交的作业按照先后顺序在作业队列中排队，新来的作业插入到队尾。一个作业运行完成后，总是从队首取下一个作业运行。这种调度策略的优点是简单、易于实现，同时也减轻了JobTracker的负担。缺点是，它没有考虑到作业的紧迫程度，另外对小作业的运行不利。因此，逐渐衍生出可以分配资源的Superior Scheduler和Capacity Scheduler。</div></li></ul></ul><div><br/></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">结构</span></div><div>    YARN模型主要由ResourceManager、ApplicationMaster和NodeManager组成，如下图1所示</div><div><br/></div><div><br/></div><div><br/></div><div style="text-align: center;"><img src="Yarn_files/Image.png" type="image/png" data-filename="Image.png" width="470"/></div><div style="text-align: center;"><br/></div><div style="text-align: center;"><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 135px;"></col><col style="width: 797px;"></col></colgroup><tbody><tr><td style="width: 135px; padding: 8px; border: 1px solid;"><div style="text-align: left;">client</div></td><td style="width: 797px; padding: 8px; border: 1px solid;"><div style="text-align: left;">YARN Application客户端，用户可以通过客户端向ResourceManager提交任务，查询Application运行状态等。</div></td></tr><tr><td style="width: 135px; padding: 8px; border: 1px solid;"><div style="text-align: left;">RourceManage</div></td><td style="width: 797px; padding: 8px; border: 1px solid;"><div style="text-align: left;">负责集群中所有资源的统一管理和分配。接收来自各个节点（NodeManager）的资源汇报信息，并根据收集的资源按照一定的策略分配给各个应用程序。</div></td></tr><tr><td style="width: 135px; padding: 8px; border: 1px solid;"><div style="text-align: left;">NameNode</div></td><td style="width: 797px; padding: 8px; border: 1px solid;"><div style="text-align: left;">NodeManager（NM）是YARN中每个节点上的代理，管理Hadoop集群中单个计算节点，包括与ResourceManger保持通信，监督Container的生命周期管理，监控每个Container的资源使用（内存、CPU等）情况，追踪节点健康状况，管理日志和不同应用程序用到的附属服务（auxiliary service）。</div></td></tr><tr><td style="width: 135px; padding: 8px; border: 1px solid;"><div style="text-align: left;">ApplicationMaster</div></td><td style="width: 797px; padding: 8px; border: 1px solid;"><div style="text-align: left;">即图中的App Mstr，负责一个Application生命周期内的所有工作。包括：与RM调度器协商以获取资源；将得到的资源进一步分配给内部任务（资源的二次分配）；与NM通信以启动/停止任务；监控所有任务运行状态，并在任务运行失败时重新为任务申请资源以重启任务。</div></td></tr><tr><td style="width: 135px; padding: 8px; border: 1px solid;"><div style="text-align: left;">Container</div></td><td style="width: 797px; padding: 8px; border: 1px solid;"><div style="text-align: left;">Container是YARN中的资源抽象，封装了某个节点上的多维度资源，如内存、CPU、磁盘、网络等（目前仅封装内存和CPU），当AM向RM申请资源时，RM为AM返回的资源便是用Container表示。YARN会为每个任务分配一个Container，且该任务只能使用该Container中描述的资源。</div></td></tr></tbody></table><div><br/></div></div><div><br/></div><ul><li><div>在YARN中，资源调度器是以层级队列方式组织资源的，这种组织方式有利于资源在不同队列间分配和共享，进而提高集群资源利用率。如下图所示，Superior Scheduler和Capacity Scheduler的核心资源分配模型相同。</div></li><li><div>调度器会维护队列的信息。用户可以向一个或者多个队列提交应用。每次NM心跳的时候，调度器会根据一定规则选择一个队列，再选择队列上的一个应用，并尝试在这个应用上分配资源。若因参数限制导致分配失败，将选择下一个应用。选择一个应用后，调度器会处理此应用的资源申请。其优先级从高到低依次为：本地资源的申请、同机架的申请，任意机器的申请。</div></li></ul><div><span style="font-size: 12pt; font-weight: bold;">原理</span></div><div>    新的Hadoop MapReduce框架被命名为MRv2或YARN。YARN主要包括ResourceManager、ApplicationMaster与NodeManager三个部分。<span style="color: rgb(129, 182, 255);">MRV1 能只能给mapreduce提供服务</span></div><ul><li><div>ResourceManager：RM是一个全局的资源管理器，负责整个系统的资源管理和分配。主要由两个组件构成：调度器（Scheduler）和应用程序管理器（Applications Manager）。</div></li><ul><li><div>调度器根据容量、队列等限制条件（如每个队列分配一定的资源，最多执行一定数量的作业等），将系统中的资源分配给各个正在运行的应用程序。调度器仅根据各个应用程序的资源需求进行资源分配，而资源分配单位用一个抽象概念Container表示。Container是一个动态资源分配单位，将内存、CPU、磁盘、网络等资源封装在一起，从而限定每个任务使用的资源量。此外，该调度器是一个可插拔的组件，用户可根据自己的需要设计新的调度器，YARN提供了多种直接可用的调度器，比如Fair Scheduler和Capacity Scheduler等。</div></li><li><div>应用程序管理器负责管理整个系统中所有应用程序，包括应用程序提交、与调度器协商资源以启动ApplicationMaster、监控ApplicationMaster运行状态并在失败时重新启动等。</div></li></ul><li><div>NodeManager：NM是每个节点上的资源和任务管理器，一方面，会定时向RM汇报本节点上的资源使用情况和各个                        Container的运行状态；另一方面，接收并处理来自AM的Container启动/停止等请求。</div></li><li><div>ApplicationMaster：AM负责一个Application生命周期内的所有工作。包括：</div></li><ul><li><div>与RM调度器协商以获取资源。</div></li><li><div>将得到的资源进一步分配给内部的任务(资源的二次分配)。</div></li><li><div>与NM通信以启动/停止任务。</div></li><li><div> 监控所有任务运行状态，并在任务运行失败时重新为任务申请资源以重启任务。</div></li></ul></ul><div><br/></div></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">MapReduce</span><span style="font-size: 16pt; font-family: 黑体; font-weight: bold;">过程详解</span><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">(1)</span></font></div><div><br/></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">    </span></font><span style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;"><img src="Yarn_files/Image [1].png" type="image/png" data-filename="Image.png" width="515"/></span></span></div><div><span style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">        注：</span></span></div><ul><ul><ul><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">分片的必要性：</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">MR</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">框架将一个分片和一个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Map</span> <span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Tast</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">对应，即一个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Map Task</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">只负责处理一个数据分片。数据分片的数量确定了为这个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Job</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">创建</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Map Task</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的个数。</span></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Application Master(AM)</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">负责一个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Application</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">生命周期内的所有工作。包括：与</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">RM</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">调度器协商以获取资源；将得到的资源进一步分配给内部任务（资源的二次分配）；与</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NM</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">通信以启动</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">/</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">停止任务；监控所有任务运行状态，并在任务运行失败时重新为任务申请资源以重启任务。</span></font></div></li><li><div><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">(RM)</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">负责集群中所有资源的统一管理和分配。它接收来自各个节点（</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">）的资源汇报信息，并根据收集的资源按照一定的策略分配给各个应用程序。</span></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">（</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NM</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">）是每个节点上的代理，它管理</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Hadoop</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">集群中单个计算节点，包括与</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManger</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">保持通信，监督</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的生命周期管理，监控每个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的资源使用（内存、</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">CPU</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">等）情况，追踪节点健康状况，管理日志和不同应用程序用到的附属服务（</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">auxiliary service</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">）。</span></font></div></li></ul></ul></ul><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">MapReduce</span><span style="font-size: 16pt; font-family: 黑体; font-weight: bold;">过程详解</span><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">(2)</span></font></div><div><span style="font-size: 9pt; font-family: 华文细黑;">    </span></div><div><span style="font-size: 9pt; font-family: 华文细黑;">                        </span></div><div><span style="font-size: 9pt; font-family: 华文细黑;">注：</span></div><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">MR</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">组件在</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">FI</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">中只有</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">jobhistoryserver</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">实例，它只是存储任务的执行记录，执行列表，没有它，也可以运行任务。但是无法查询任务的详细信息。</span></font></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Reduce</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">阶段的三个过程：</span></font></div></li><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Copy</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Reduce Task</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">从各个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Map Task</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">拷贝</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">MOF</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">文件。</span></font></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Sort</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：通常又叫</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Merge</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">，将多个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">MOF</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">文件进行合并再排序。</span></font></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Reduce</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：用户自定义的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Reduce</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">逻辑。</span></font></div></li></ul></ul><div><span style="font-size: 9pt;"><br/></span></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;; font-weight: bold;">YARN</span><span style="font-size: 16pt; font-family: 黑体; font-weight: bold;">的组件架构</span></font></div><div><br/></div><div>            <img src="Yarn_files/Image [2].png" type="image/png" data-filename="Image.png" width="389"/></div></div><div><br/></div><div>        </div><ul><li><div><span style="font-size: 11pt; color: black; font-family: 华文细黑;">在图中有两个客户端向</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">YARN</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">提交任务，蓝色表示一个任务流程，棕色表示另一个任务流程。</span></div></li><li><div><span style="font-size: 11pt; color: black; font-family: 华文细黑;">首先</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">client</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">提交任务，</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">接收到任务，然后启动并监控起来的第一个</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container,</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">也就是</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">App</span> <span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Mstr</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">。</span></div></li><li><div><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">App</span> <span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Mstr</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">通知</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">nodemanager</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">管理资源并启动其他</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">container</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">。</span></div></li><li><div><span style="font-size: 11pt; color: black; font-family: 华文细黑;">任务最终是运行在</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">当中。</span></div></li></ul><hr/><ul><li><div><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span> <span style="font-size: 11pt; color: black; font-family: 华文细黑;">负责集群资源统一管理和计算框架管理</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">，主要包括调度与应用程序管理。</span></div></li><ul><li><div><span style="font-size: 11pt; color: black; font-family: 华文细黑;">调度器：根据容量、队列等限制条件，将系统中的资源分配给各个正在运行的应用程序。</span></div></li><li><div><span style="font-size: 11pt; color: black; font-family: 华文细黑;">应用程序管理器：负责管理整个系统中的所有应用程序，包括应用程序提交，与调度器协商资源，启动并监控</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">AppMaster</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">运行状态。</span></div></li></ul><li><div><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">节点资源管理监控和容器管理，</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">RM</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">是系统中将资源分配给各个应用的最终决策者</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">。</span></div></li><li><div><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">AppMaster</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">各种计算框架的实现（例如</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">MRAppMaster</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">）向</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">申请资源，通知</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">管理相应的资源</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">。</span></div></li><li><div><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container YARN</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">中的资源抽象，它封装了某个节点上的多维度资源，如内存、</span><span style="font-size: 11pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">CPU</span><span style="font-size: 11pt; color: black; font-family: 华文细黑;">等。</span></div></li></ul><div><br/></div><div><br/></div><div><span style="font-weight: bold; font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;;">MapReduce</span> <span style="font-weight: bold; font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;;">On YARN</span><span style="font-weight: bold; font-size: 16pt; font-family: 黑体;">任务调度流程</span></div><div><br/></div><div><span style="font-size: 16pt;"><span style="font-family: 黑体; font-size: 16pt; font-weight: bold;">        <img src="Yarn_files/Image [3].png" type="image/png" data-filename="Image.png" width="463"/></span></span></div><div><span style="font-size: 16pt;"><br/></span></div><div><span style="font-family: 黑体; font-weight: bold; font-size: 12pt;">调度说明：</span></div><ul><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">1</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：用户向</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">YARN</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">中提交应用程序， 其中包括</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">程序、启动</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">的命令、用户程序等。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">2</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">为该应用程序分配第一个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">， 并与对应的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">通信，要求它在这个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Container</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">中启动应用程序的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">3</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">首先向</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">注册， 这样用户可以直接通过</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManage</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">查看应用程序的运行状态，然后它将为各个任务申请资源，并监控它的运行状态，直到运行结束，即重复步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">4~7</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">4</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">采用轮询的方式通过</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">RPC</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">协议向</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">申请和领取资源。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">5</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：一旦</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">申请到资源后，便与对应的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">通信，要求它启动任务。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">6</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">为任务设置好运行环境（包括环境变量、</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">JAR</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">包、二进制程序等）后，将任务启动命令写到一个脚本中，并通过运行该脚本启动任务。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">7</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">：各个任务通过某个</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">RPC</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">协议向</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">汇报自己的状态和进度，以让</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">随时掌握各个任务的运行状态，从而可以在任务失败时重新启动任务。在应用程序运行过程中，用户可随时通</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">过</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">RPC</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">向</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">查询应用程序的当前运行状态。</span></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">步骤</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">8</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">　应用程序运行完成后，</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">向</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span> <span style="font-size: 9pt; color: black; font-family: 华文细黑;">注销并关闭自己。</span></div></li></ul><div><span style="font-size: 9pt;"><br/></span></div><div><font style="font-size: 16pt;"><span style="font-weight: bold; font-size: 16pt; font-family: &quot;FrutigerNext LT Medium&quot;;">YARN HA</span><span style="font-weight: bold; font-size: 16pt; font-family: 黑体;">方案</span></font></div><div><span style="font-family: 黑体;"><span style="font-family: 黑体; font-weight: bold; font-size: 16pt;">   </span> <span style="font-family: 黑体; font-size: 10pt;">高可靠性引入冗余RM</span></span></div><div><span style="font-size: 16pt;"><span style="font-family: 黑体; font-size: 16pt; font-weight: bold;">    <img src="Yarn_files/Image [4].png" type="image/png" data-filename="Image.png" width="419"/></span></span></div><div><br/></div><ul><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">的高可用性方案是通过设置一组</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active/Standby</span><span style="font-size: 9pt; font-family: 华文细黑;">的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">节点来实现的。与</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">HDFS</span><span style="font-size: 9pt; font-family: 华文细黑;">的高可用性方案类似，任何时间点上都只能有一个</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">处于</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态。当</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">发生故障时，可通过自动或手动的方式触发故障转移，进行</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active/Standby</span><span style="font-size: 9pt; font-family: 华文细黑;">状态切换。</span></font></div></li><li><div><span style="font-size: 9pt; font-family: 华文细黑;">在未开启自动故障转移时，</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">YARN</span><span style="font-size: 9pt; font-family: 华文细黑;">集群启动后，管理员需要在命令行中使用</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">YARN</span> <span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">rmadmin</span><span style="font-size: 9pt; font-family: 华文细黑;">命令手动将其中一个</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">切换为</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态。当需要执行计划性维护或故障发生时，则需要先手动将</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">切换为</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Standby</span><span style="font-size: 9pt; font-family: 华文细黑;">状态，再将另一个</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">切换为</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态。</span></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-family: 华文细黑;">开启自动故障转移后，</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">会通过内置的基于</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ZooKeeper</span><span style="font-size: 9pt; font-family: 华文细黑;">实现的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ActiveStandbyElector</span><span style="font-size: 9pt; font-family: 华文细黑;">来决定哪一个</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResouceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">应该成为</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">节点。当</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">发生故障时，另一个</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">将自动被选举为</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态以接替故障节点。</span></font></div></li><li><div><font style="font-size: 9pt;"><span style="font-size: 9pt; font-family: 华文细黑;">当集群的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">以</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">HA</span><span style="font-size: 9pt; font-family: 华文细黑;">方式部署时，客户端使用的“</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">YARN-site.xml”</span><span style="font-size: 9pt; font-family: 华文细黑;">需要配置所有</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">地址。客户端（包括</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ApplicationMaster</span><span style="font-size: 9pt; font-family: 华文细黑;">和</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span><span style="font-size: 9pt; font-family: 华文细黑;">）会以轮询的方式寻找</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">。如果当前</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; font-family: 华文细黑;">状态的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">无法连接，那么会继续使用轮询的方式找到新的</span><span style="font-size: 9pt; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; font-family: 华文细黑;">。</span></font></div></li><li><div><span style="font-size: 9pt; color: black; font-family: 华文细黑;">备</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">RM</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">升主后，能够恢复故障发生时上层应用运行的状态。当启用</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span> <span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Restart</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">时，重启后的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">就可以通过加载之前</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Active</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的状态信息，并通过接收所有</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">NodeManager</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">上</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">container</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的状态信息重构运行状态继续执行。这样应用程序通过定期执行检查点操作保存当前状态信息，就可以避免工作内容的丢失。状态信息需要让</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Active/Standby</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">的</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ResourceManager</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">都能访问。当前系统提供了三种共享状态信息的方法：通过文件系统共享（</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">FileSystemRMStateStore</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">）、通过</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">LevelDB</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">数据库共享（</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">LeveldbRMStateStore</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">）或通过</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ZooKeeper</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">共享（</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ZKRMStateStore</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">）。这三种方式中只有</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ZooKeeper</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">共享支持</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Fencing</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">机制。</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">Hadoop</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">默认使用</span><span style="font-size: 9pt; color: black; font-family: &quot;FrutigerNext LT Regular&quot;;">ZooKeeper</span><span style="font-size: 9pt; color: black; font-family: 华文细黑;">共享。</span></div></li></ul><div><span style="font-size: 9pt;"><br/></span></div><div><span style="font-family: 黑体;"><b><font style="font-size: 16pt;">资源分配模型</font></b></span></div><div><span style="font-size: 9pt;"><span>    </span><span>    </span><span>    </span><span>    </span><img src="Yarn_files/Image [5].png" type="image/png" data-filename="Image.png" width="465"/></span></div><div><font style="font-size: 9pt;"><br/></font></div><ul><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 9pt;">调度器维护一群队列的信息。用户可以向一个或者多个队列提交应用。</font></span></div></li><li><div><font style="font-size: 9pt;"><span style="font-family: 华文细黑; color: black;">每次</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">NM</span><span style="font-family: 华文细黑; color: black;">心跳的时候，调度器根据一定的规则选择一个队列，再在队列上选择一个应用，尝试在这个应用上分配资源。</span></font></div></li><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 9pt;">调度器会优先匹配本地资源的申请请求，其次是同机架的，最后是任意机器的。</font></span></div></li><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 9pt;">当任务提交上来，首先会声明提交到哪个队列上，调度器会分配队列，如果没有指定则任务运行在默认队列。</font></span></div></li><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 9pt;">队列是封装了集群资源容量的资源集合，占用集群的百分比例资源。</font></span></div></li><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 9pt;">队列分为父队列，子队列，任务最终是运行在子队列上的。父队列可以有多个子队列。</font></span></div></li><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 9pt;">调度器选择队列上的应用，然后根据一些算法给应用分配资源。</font></span></div></li></ul><div><span style="font-size: 9pt;"><br/></span></div><div><span style="font-size: 9pt;"><br/></span></div></div><div><span style="font-family: 黑体;"><b><font style="font-size: 16pt;">容量调度器的介绍</font></b></span></div><div><span style="font-family: 黑体;"><b><font style="font-size: 16pt;"><br/></font></b></span></div><ul><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑; color: black;">容量调度器使得</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Hadoop</span><span style="font-family: 华文细黑; color: black;">应用能够共享的、多用户的、操作简便的运行在集群上，同时最大化集群的吞吐量和利用率。</span></font></div></li><li><div><span style="font-family: 华文细黑; color: black;"><font style="font-size: 10pt;">容量调度器以队列为单位划分资源，每个队列都有资源使用的下限和上限。每个用户可以设定资源使用上限。管理员可以约束单个队列、用户或作业的资源使用。支持作业优先级，但不支持资源抢占。</font></span></div></li></ul><div><span style="font-family: 华文细黑;"><span><font style="font-size: 14pt;"><b>    特点：</b></font></span><br/></span></div><div style="margin-left: 40px;"><span style="font-size: 10pt; font-family: 华文细黑; color: rgb(192, 0, 0); font-weight: bold;">容量</span><span style="font-size: 10pt; font-family: 华文细黑; color: rgb(192, 0, 0); font-weight: bold;">保证</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">：</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">管理</span><span style="font-family: 华文细黑; color: black;"><font style="font-size: 10pt;">员</font></span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">可为每个队列设置资源最低保证和资源使用上限，所有提交到该队列的应用程序共享这些资源。</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt; font-family: 华文细黑; color: rgb(192, 0, 0); font-weight: bold;">灵活性</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">：</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">如果一</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">个队列中的资源有剩余，可以暂时共享给那些需要资源的队列，当该队列有新的应用程序提交，则其他队列释放的资源会归还给该队列。</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt; font-family: 华文细黑; color: rgb(192, 0, 0); font-weight: bold;">支持优先级</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">：队列支持任务优先级调度（默认是</span><span style="font-size: 10pt; font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">FIFO</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">）</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">。</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt; font-family: 华文细黑; color: rgb(192, 0, 0); font-weight: bold;">多重租赁</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">：</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">支持多用户共享集群和多应用程序同时运行。为防止单个应用程序、用户或者队列独占集群资源，管理员可为之增加多重约束。</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt; font-family: 华文细黑; color: rgb(192, 0, 0); font-weight: bold;">动态更新配置文件</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">：</span><span style="font-size: 10pt; font-family: 华文细黑; color: black;">管理员可根据需要动态修改配置参数，以实现在线集群管理。</span></div><div><b style="font-family: 黑体;"><font style="font-size: 14pt;">  任务选择：</font></b></div><div><span style="font-family: &quot;FrutigerNext LT Regular&quot;;"><font style="font-size: 10pt;">调度时，首先按以下策略选择一个合适队列：</font></span></div><ol><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑;">资源利用量最低的队列优先，比如同级的两个队列</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">Q1</span><span style="font-family: 华文细黑;">和</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">Q2</span><span style="font-family: 华文细黑;">，它们的容量均为</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">30</span><span style="font-family: 华文细黑;">，而</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">Q1</span><span style="font-family: 华文细黑;">已使用</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">10</span><span style="font-family: 华文细黑;">，</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">Q2</span><span style="font-family: 华文细黑;">已使用</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">12</span><span style="font-family: 华文细黑;">，则会优先将资源分配给</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">Q1</span><span style="font-family: 华文细黑;">。</span></font></div></li><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑;">最小队列层级优先，例如：</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">QueueA</span><span style="font-family: 华文细黑;">与</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">QueueB.childQueueB</span><span style="font-family: 华文细黑;">，则</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;;">QueueA</span><span style="font-family: 华文细黑;">优先。</span></font></div></li><li><div><span style="font-family: 华文细黑;"><font style="font-size: 10pt;">资源回收请求队列优先。</font></span></div></li></ol><div><span style="font-family: &quot;FrutigerNext LT Regular&quot;;"><font style="font-size: 10pt;">然后按以下策略选择该队列中一个任务：</font></span><span style="font-size: 10pt; font-family: 华文细黑;">按照任务优先级和提交时间顺序选择，同时考虑用户资源量限制和内存限制。</span></div><div><font face="华文细黑"><span style="font-size: 13.3333px;"><br/></span></font></div><div><font face="华文细黑"><span style="font-size: 13.3333px;"><br/></span></font></div><div><span style="font-family: 华文细黑; color: black; font-weight: bold;"><font style="font-size: 18pt;">增强特性</font></span></div><div><span style="font-family: 华文细黑; color: black; font-weight: bold;"><font style="font-size: 18pt;"><span>    </span><span>    </span></font></span> <b><font style="font-size: 16pt;"><span style="font-family: 黑体;">增强特性</span> <span style="font-family: &quot;FrutigerNext LT Medium&quot;;">- YARN</span><span style="font-family: 黑体;">动态内存管理</span></font></b></div><div><b><font style="font-size: 16pt;"><span style="font-family: 黑体;"><span>    </span><span>    </span></span></font></b><span style="font-size: 16pt; font-family: 黑体;"><b><img src="Yarn_files/Image [6].png" type="image/png" data-filename="Image.png" width="369"/></b></span></div><div><span style="font-size: 16pt; font-family: 黑体;"><b><br/></b></span></div><ul><ul><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑; color: black;">动态内存管理可用来优化</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">NodeManager</span><span style="font-family: 华文细黑; color: black;">中</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">的内存利用率。任务在运行过程中可能产生多个</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Container</span><span style="font-family: 华文细黑; color: black;">。</span></font></div></li><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑; color: black;">当前，当单个节点上的</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Container</span><span style="font-family: 华文细黑; color: black;">超过</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Container</span><span style="font-family: 华文细黑; color: black;">运行内存大小时，即使节点总的配置内存利用还很低，</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">NodeManager</span><span style="font-family: 华文细黑; color: black;">也会终止这些</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">。这样就会经常使用户作业失败。</span></font></div></li><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑; color: black;">动态内存管理特性在当前是一个改进，只有当</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">NodeManager</span><span style="font-family: 华文细黑; color: black;">中的所有</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">的总内存使用超过了已确定的阈值，</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">NM</span><span style="font-family: 华文细黑; color: black;">总内存阈值的计算方法是</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Yarn.nodemanager.resource.memory-mb</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">*1024</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">*</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">1024</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">*</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Yarn.nodemanager.dynamic.memory.usage.threshold</span><span style="font-family: 华文细黑; color: black;">，单位</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">GB</span><span style="font-family: 华文细黑; color: black;">，那么那些内存使用过多的</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">才会被终止。</span></font></div></li><li><div><font style="font-size: 10pt;"><span style="font-family: 华文细黑; color: black;">举例，假如某些</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">的物理内存利用率超过了配置的内存阈值，但所有</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">的总内存利用率并没有超过设置的</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">NodeManager</span><span style="font-family: 华文细黑; color: black;">内存阈值，那么那些内存使用过多的</span><span style="font-family: &quot;FrutigerNext LT Regular&quot;; color: black;">Containers</span><span style="font-family: 华文细黑; color: black;">仍可以继续运行。</span></font></div></li></ul></ul><div><font face="华文细黑"><span style="font-size: 13.3333px;"><span>    </span><span>    </span><span>    </span></span></font> <b><font style="font-size: 16pt;"><span style="font-family: 黑体;">增强</span><span style="font-family: 黑体;">特性</span> <span style="font-family: &quot;FrutigerNext LT Medium&quot;;">- YARN</span><span style="font-family: 黑体;">基于标签调度</span></font></b></div><div><font face="华文细黑"><span style="font-size: 13.3333px;"><span>    </span><span>    </span><span>    </span><span>    </span></span></font></div><ul><ul><ul><li><div><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">在没有标签调度之前，任务提交到哪个节点上是无法控制的，会根据一些算法及条件，集群随机分配到某些节点上。而标签调度可以指定任务提交到哪些节点上。</span></div></li><li><div><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">比如之前需要消耗高内存的应用提交上来，由于运行在那些节点不可控，任务可能运行在普通性能的机器上。</span></div></li><li><div><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">Label based scheduling</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">是一种调度策略。该策略的基本思想是：用户可以为每个</span><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">nodemanager</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">标注一个标签，比如</span><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">high-memory</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">，</span><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">high-IO</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">等进行分类</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">，以表明该</span><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">nodemanager</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">的特性；同时，用户可以为调度器中每个队列标注</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">一</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">个标签，</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">即队列与标签绑定，</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">这样，提交到某个队列中的作业，只会使用标注有对应标签的节点上的资源</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">，即任务实际运行在打有对应标签的节点上</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">。</span></div></li><li><div><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">将耗内存消耗型的任务提交到绑定了</span><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">high-</span><span style="font-size: 11.0pt; font-family: &quot;FrutigerNext LT Regular&quot;; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: en-US; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">memry</span><span style="font-size: 11.0pt; font-family: 华文细黑; mso-ascii-font-family: &quot;FrutigerNext LT Regular&quot;; mso-fareast-font-family: 华文细黑; mso-bidi-font-family: +mn-cs; mso-bidi-theme-font: minor-bidi; color: black; mso-color-index: 1; mso-font-kerning: 12.0pt; language: zh-CN; mso-style-textfill-type: solid; mso-style-textfill-fill-themecolor: text1; mso-style-textfill-fill-color: black; mso-style-textfill-fill-alpha: 100.0%;">的标签的队列上，那么任务就可以运行在高内存机器上。</span></div></li></ul></ul></ul><div><font face="华文细黑"><span style="font-size: 13.3333px;"><br/></span></font></div><div><font face="华文细黑"><span style="font-size: 13.3333px;"><br/></span></font></div><div><font face="华文细黑"><span style="font-size: 13.3333px;"><br/></span></font></div><div><font face="华文细黑"><span style="font-size: 13.3333px;"><br/></span></font></div></div></span>
</div></body></html> 